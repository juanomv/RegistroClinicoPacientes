{"ast":null,"code":"import _objectSpread from\"/home/juano/reactProjects/qr_guillo (copia)/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/juano/reactProjects/qr_guillo (copia)/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useHistory}from\"react-router-dom\";import{Url,headers}from'../config';import axios from'axios';import{useForm}from'react-hook-form';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var history=useHistory();var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),menssage=_useState2[0],setmenssage=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),carga=_useState4[0],setcarga=_useState4[1];var logear=function logear(data){setcarga(true);axios.post(Url+'auth/login',{email:data.email,password:data.password},headers).then(function(res){if(res.data.Token){var Token=res.data.Token;localStorage.setItem('Token',Token);history.push('/Dashboard/1');}else{setcarga(false);setmenssage(res.data.msg);}}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsx(\"div\",{className:\"flex  h-screen bg-gradient-to-t from-green-primary  to-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\" flex flex-col bg-blue-primary w-5/6 sm:w-2/6 m-auto rounded-3xl shadow-2xl\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center text-4xl font-extrabold p-1 sm:p-6 text-green-primary\",children:\"Iniciar Session\"}),carga?/*#__PURE__*/_jsx(\"div\",{class:\"animate-spin rounded-full h-32 w-32 border-b-4 border-white  m-auto \"}):null,/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 text-center text-2xl\",children:menssage&&menssage}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(logear),className:\"flex flex-col p-5 pb-10 justify-between\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-green-primary font-semibold text-3xl\",htmlFor:\"correo\",children:\"Correo:\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({className:\"m-4 my-2  bg-transparent border-b border-green-primary focus:outline-white text-white\",type:\"text\",id:\"correo\",placeholder:\"Ingrese su Correo\",autoFocus:true},register('email',{required:{value:true,message:'El Email es obligatorio'}})),{},{onChange:function onChange(){return setmenssage(null);}})),/*#__PURE__*/_jsxs(\"span\",{className:\"Warring\",children:[\" \",errors.email&&'email es requerido']}),/*#__PURE__*/_jsx(\"label\",{className:\"mt-6 text-green-primary font-semibold text-3xl\",htmlFor:\"password\",children:\"Contrase\\xF1a:\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"m-4 my-2 bg-transparent border-b border-green-primary focus:outline-white text-white\",type:\"password\",id:\"password\",placeholder:\"Ingrese su Contrase\\xF1a\",onChange:function onChange(){return setmenssage(null);}},register('password',{required:{value:true,message:'El password es obligatorio'}}))),/*#__PURE__*/_jsx(\"span\",{className:\"Warring\",children:errors.password&&'contrase単a es obligatoria'}),/*#__PURE__*/_jsx(\"input\",{className:\"mt-16 w-2/3 sm:w-1/2 m-auto rounded-3xl sm:h-14 border bg-green-primary text-lg sm:text-3xl font-bold uppercase text-white  hover:bg-white hover:text-green-primary hover:border-green-primary focus:bg-gray-400\",type:\"submit\",value:\"Ingresar\"})]})]})});};export default Login;","map":{"version":3,"sources":["/home/juano/reactProjects/qr_guillo (copia)/src/pages/Login.jsx"],"names":["React","useState","useHistory","Url","headers","axios","useForm","Login","history","register","handleSubmit","errors","formState","menssage","setmenssage","carga","setcarga","logear","data","post","email","password","then","res","Token","localStorage","setItem","push","msg","catch","err","console","log","required","value","message"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory} from \"react-router-dom\";\nimport {Url, headers} from '../config'\nimport axios from 'axios';\nimport {useForm} from 'react-hook-form';\nconst Login = () => {\n  const history= useHistory()\n  const {register,handleSubmit,formState:{errors}} = useForm();\n  const [menssage, setmenssage] = useState(\"\")\n  const [carga, setcarga] = useState(false)\n  const logear = (data) => {\n    setcarga(true)\n    axios.post(Url+'auth/login',{email:data.email,password:data.password},headers)\n    .then(res=>{\n      if(res.data.Token){\n        const {Token} = res.data\n        localStorage.setItem('Token',Token)\n        history.push('/Dashboard/1')\n      }else{\n        setcarga(false)\n        setmenssage(res.data.msg)\n      }\n      \n    }).catch(err=>console.log(err))\n  };\n  return (\n    <div className=\"flex  h-screen bg-gradient-to-t from-green-primary  to-white\">\n      \n      <div className=\" flex flex-col bg-blue-primary w-5/6 sm:w-2/6 m-auto rounded-3xl shadow-2xl\">\n      \n        <h1 className=\"text-center text-4xl font-extrabold p-1 sm:p-6 text-green-primary\">\n          Iniciar Session\n        </h1>\n        {carga?<div class=\"animate-spin rounded-full h-32 w-32 border-b-4 border-white  m-auto \"></div>:null}\n        <span className=\"text-red-500 text-center text-2xl\">\n        {menssage&&menssage}\n        </span>\n        <form\n          onSubmit={handleSubmit(logear)}\n          className=\"flex flex-col p-5 pb-10 justify-between\"\n        >\n          <label\n            className=\"text-green-primary font-semibold text-3xl\"\n            htmlFor=\"correo\"\n          >\n            Correo:\n          </label>\n          <input\n            className=\"m-4 my-2  bg-transparent border-b border-green-primary focus:outline-white text-white\"\n            type=\"text\"\n            id=\"correo\"\n            placeholder=\"Ingrese su Correo\"\n            autoFocus\n            \n            {...register('email',{\n              required:{value:true,message:'El Email es obligatorio'},\n             \n              \n            })}\n            onChange={()=>setmenssage(null)}\n          />\n         <span className=\"Warring\"> {errors.email&&'email es requerido'}</span>\n          <label\n            className=\"mt-6 text-green-primary font-semibold text-3xl\"\n            htmlFor=\"password\"\n          >\n            Contrase単a:\n          </label>\n          <input\n            className=\"m-4 my-2 bg-transparent border-b border-green-primary focus:outline-white text-white\"\n            type=\"password\"\n            id=\"password\"\n            placeholder=\"Ingrese su Contrase単a\"\n            onChange={()=>setmenssage(null)}\n            {...register('password',{\n              required:{value:true,message:'El password es obligatorio'}\n            })}\n          />\n          <span className=\"Warring\">{errors.password&&'contrase単a es obligatoria'}</span>\n          <input\n            className=\"mt-16 w-2/3 sm:w-1/2 m-auto rounded-3xl sm:h-14 border bg-green-primary text-lg sm:text-3xl font-bold uppercase text-white  hover:bg-white hover:text-green-primary hover:border-green-primary focus:bg-gray-400\"\n            type=\"submit\"\n            value=\"Ingresar\"\n          />\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}