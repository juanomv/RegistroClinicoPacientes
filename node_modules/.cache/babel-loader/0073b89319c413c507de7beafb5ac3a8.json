{"ast":null,"code":"import _objectSpread from\"/home/juano/reactProjects/Novo-Lab-Clinico/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/juano/reactProjects/Novo-Lab-Clinico/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/juano/reactProjects/Novo-Lab-Clinico/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/juano/reactProjects/Novo-Lab-Clinico/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{useForm}from\"react-hook-form\";import{Url,headers}from\"../config\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddExamen=function AddExamen(_ref){var salir=_ref.salir,reload=_ref.reload,accion=_ref.accion,valores=_ref.valores;var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors,reset=_useForm.reset;var _useState=useState({Nombre:null,Descripcion:null,Id:null}),_useState2=_slicedToArray(_useState,2),Update=_useState2[0],setUpdate=_useState2[1];headers.Authorization=\"Bearer \"+localStorage.getItem(\"Token\");useEffect(function(){if(accion===\"Update\"){setUpdate(valores);reset({Nombre:valores.Nombre},{Descripcion:valores.Descripcion});}},[]);var addExamen=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(!(accion===\"New\")){_context.next=7;break;}_context.next=4;return axios.post(Url+\"Examen/New\",data,{headers:headers});case 4:res=_context.sent;_context.next=12;break;case 7:if(!(accion===\"Update\")){_context.next=12;break;}data.Id=valores.Id;_context.next=11;return axios.put(Url+\"Examen/Update/\",data,{headers:headers});case 11:res=_context.sent;case 12:if(res.data.ok){salir();reload();}_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 18:case\"end\":return _context.stop();}}},_callee,null,[[0,15]]);}));return function addExamen(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(addExamen),className:\"flex flex-col bg-white w-auto p-4 justify-between\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"mt-4 mb-1\",htmlFor:\"Nombre\",children:\"Examen\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"w-96 border-b border-gray-600\",type:\"text\",name:\"Nombre\",id:\"Nombre\",defaultValue:Update.Nombre,minLength:1,maxLength:50,placeholder:\"Nombre de Examen\"},register(\"Nombre\",{required:{value:true,message:\"Nombre de examen es obligatorio\"},maxLength:{value:50,message:\"Nombre no debe tener mas 50 caracteres\"}}))),/*#__PURE__*/_jsx(\"span\",{className:\"Warring\",children:errors.Nombre&&errors.Nombre.message}),/*#__PURE__*/_jsx(\"label\",{className:\"mt-4 mb-1\",htmlFor:\"Nombre\",children:\"Descripcion\"}),/*#__PURE__*/_jsx(\"textarea\",_objectSpread({className:\"w-96 border-b p-2\",minLength:1,maxLength:200,defaultValue:Update.Descripcion,placeholder:\"Breve Descripcion\"},register(\"Descripcion\",{required:{value:true,message:\"La Descripcion es obligatoria\"},maxLength:{value:200,message:\"Descripcion no debe tener mas 200 caracteres\"},minLength:{value:1,message:\"Descripcion no debe tener almenos 1 caracter\"}}))),\"      \",/*#__PURE__*/_jsx(\"span\",{className:\"Warring\",children:errors.Descripcion&&errors.Descripcion.message}),/*#__PURE__*/_jsx(\"input\",{className:\"m-auto w-2/3 my-6\",type:\"submit\",value:\"Agregar\"})]});};export default AddExamen;","map":{"version":3,"sources":["/home/juano/reactProjects/Novo-Lab-Clinico/src/componets/AddExamen.jsx"],"names":["axios","React","useEffect","useState","useForm","Url","headers","AddExamen","salir","reload","accion","valores","register","handleSubmit","errors","formState","reset","Nombre","Descripcion","Id","Update","setUpdate","Authorization","localStorage","getItem","addExamen","data","post","res","put","ok","console","log","required","value","message","maxLength","minLength"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\n\nimport { Url, headers } from \"../config\";\nconst AddExamen = ({ salir, reload, accion, valores }) => {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset\n  } = useForm();\n  const [Update, setUpdate] = useState({Nombre:null,Descripcion:null,Id:null});\n  headers.Authorization = \"Bearer \" + localStorage.getItem(\"Token\");\n  useEffect(() => {\n    if (accion === \"Update\") {\n      setUpdate(valores);\n      reset({Nombre:valores.Nombre},{Descripcion:valores.Descripcion})\n     \n    }\n    \n  }, []);\n  \n  const addExamen = async (data) => {\n    try {\n      let res;\n      if (accion === \"New\") {\n        res = await axios.post(Url + \"Examen/New\", data, { headers });\n      } else if (accion === \"Update\") {\n        data.Id = valores.Id;\n        res = await axios.put(Url + \"Examen/Update/\", data, { headers });\n      }\n      if (res.data.ok) {\n        salir();\n        reload();\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return (\n    <form\n      onSubmit={handleSubmit(addExamen)}\n      className=\"flex flex-col bg-white w-auto p-4 justify-between\"\n    >\n      <label className=\"mt-4 mb-1\" htmlFor=\"Nombre\">\n        Examen\n      </label>\n      <input\n        className=\"w-96 border-b border-gray-600\"\n        type=\"text\"\n        name=\"Nombre\"\n        id=\"Nombre\"\n        defaultValue={Update.Nombre}\n        minLength={1}\n        maxLength={50}\n        placeholder=\"Nombre de Examen\"\n        {...register(\"Nombre\", {\n          required: { value: true, message: \"Nombre de examen es obligatorio\" },\n          maxLength: {\n            value: 50,\n            message: \"Nombre no debe tener mas 50 caracteres\",\n          },\n        })}\n      />\n      <span className=\"Warring\">{errors.Nombre && errors.Nombre.message}</span>\n      <label className=\"mt-4 mb-1\" htmlFor=\"Nombre\">\n        Descripcion\n      </label>\n      <textarea\n        className=\"w-96 border-b p-2\"\n        minLength={1}\n        maxLength={200}\n        defaultValue={Update.Descripcion}\n        placeholder=\"Breve Descripcion\"\n        {...register(\"Descripcion\", {\n          required: { value: true, message: \"La Descripcion es obligatoria\" },\n          maxLength: {\n            value: 200,\n            message: \"Descripcion no debe tener mas 200 caracteres\",\n          },\n          minLength: {\n            value: 1,\n            message: \"Descripcion no debe tener almenos 1 caracter\",\n          },\n        })}\n      />      <span className=\"Warring\">\n        {errors.Descripcion && errors.Descripcion.message}\n      </span>\n      <input className=\"m-auto w-2/3 my-6\" type=\"submit\" value=\"Agregar\" />\n    </form>\n  );\n};\n\nexport default AddExamen;\n"]},"metadata":{},"sourceType":"module"}