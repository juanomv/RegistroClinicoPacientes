"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("rxfire/auth"),t=require("rxjs"),n=require("rxjs/operators"),o=require("firebase/app"),i=require("rxfire/database"),a=require("rxfire/firestore"),s=require("firebase/firestore"),u=require("rxfire/functions"),c=require("rxfire/remote-config"),l=require("rxfire/storage"),f=require("firebase/storage");function p(e,r,t,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void t(e)}s.done?r(u):Promise.resolve(u).then(n,o)}function h(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var i=e.apply(r,t);function a(e){p(i,n,o,a,s,"next",e)}function s(e){p(i,n,o,a,s,"throw",e)}a(void 0)}))}}function d(){return(d=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function v(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,g(e,r)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,r){return(g=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b(e,r,t){return(b=y()?Reflect.construct:function(e,r,t){var n=[null];n.push.apply(n,r);var o=new(Function.bind.apply(e,n));return t&&g(o,t.prototype),o}).apply(null,arguments)}function x(e){var r="function"==typeof Map?new Map:void 0;return(x=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return b(e,arguments,m(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),g(t,e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var E,_=(function(e){var r=function(e){var r=Object.prototype,t=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(e,r,t){return Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[r]}try{s({},"")}catch(e){s=function(e,r,t){return e[r]=t}}function u(e,r,t,n){var o=Object.create((r&&r.prototype instanceof f?r:f).prototype),i=new _(n||[]);return o._invoke=function(e,r,t){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(t.method=o,t.arg=i;;){var a=t.delegate;if(a){var s=x(a,t);if(s){if(s===l)continue;return s}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===n)throw n="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);n="executing";var u=c(e,r,t);if("normal"===u.type){if(n=t.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:t.done}}"throw"===u.type&&(n="completed",t.method="throw",t.arg=u.arg)}}}(e,t,i),o}function c(e,r,t){try{return{type:"normal",arg:e.call(r,t)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l={};function f(){}function p(){}function h(){}var d={};s(d,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(C([])));m&&m!==r&&t.call(m,o)&&(d=m);var g=h.prototype=f.prototype=Object.create(d);function y(e){["next","throw","return"].forEach((function(r){s(e,r,(function(e){return this._invoke(r,e)}))}))}function b(e,r){var n;this._invoke=function(o,i){function a(){return new r((function(n,a){!function n(o,i,a,s){var u=c(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&t.call(f,"__await")?r.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):r.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function x(e,r){var t=e.iterator[r.method];if(void 0===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=void 0,x(e,r),"throw"===r.method))return l;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(t,e.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,l;var o=n.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,l)}function w(e){var r={tryLoc:e[0]};1 in e&&(r.catchLoc=e[1]),2 in e&&(r.finallyLoc=e[2],r.afterLoc=e[3]),this.tryEntries.push(r)}function E(e){var r=e.completion||{};r.type="normal",delete r.arg,e.completion=r}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function C(e){if(e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function r(){for(;++n<e.length;)if(t.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=void 0,r.done=!0,r};return i.next=i}}return{next:F}}function F(){return{value:void 0,done:!0}}return p.prototype=h,s(g,"constructor",h),s(h,"constructor",p),p.displayName=s(h,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var r="function"==typeof e&&e.constructor;return!!r&&(r===p||"GeneratorFunction"===(r.displayName||r.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(r,t,n,o,i){void 0===i&&(i=Promise);var a=new b(u(r,t,n,o),i);return e.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var r=[];for(var t in e)r.push(t);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var r in this)"t"===r.charAt(0)&&t.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(t,n){return a.type="throw",a.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=t.call(i,"catchLoc"),u=t.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,r){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&t.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),l},finish:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),E(t),l}},catch:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc===e){var n=t.completion;if("throw"===n.type){var o=n.arg;E(t)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,t){return this.delegate={iterator:C(e),resultName:r,nextLoc:t},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}(E={exports:{}}),E.exports),C=e.createContext(void 0),F=e.createContext(!1);function O(r){var t=e.useContext(F);return void 0!==r?r:t}function k(){var r=e.useContext(C);if(!r)throw new Error("Cannot call useFirebaseApp unless your component is within a FirebaseAppProvider");return r}function P(){return(P=h(_.mark((function e(t){var n,o;return _.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return o=A(r.user(n=e.sent),"auth:user:"+n.name),e.abrupt("return",o.toPromise());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){var t,n,o=de(),i="auth:user:"+o.name,a=r.user(o),s=o.currentUser;return!s&&(null!=(t=null==e?void 0:e.initialData)?t:null==e?void 0:e.startWithValue)&&(s=null!=(n=e.initialData)?n:e.startWithValue),T(i,a,d({},e,{initialData:s}))}function S(e,r,n){if(void 0===r&&(r=!1),!e)throw new Error("you must provide a user");return T("auth:idTokenResult:"+e.uid+":forceRefresh="+r,t.from(e.getIdTokenResult(r)),n)}function R(r){var t=r.fallback,n=r.children,o=r.requiredClaims,i=S(r.user,!1).data.claims,a={};return O()||console.warn("ClaimsCheck is deprecated and only works when ReactFire is in experimental Suspense Mode. Use useSigninCheck or set suspense={true} in FirebaseAppProvider if you want to use this component."),o&&Object.keys(o).forEach((function(e){var r;o[e]!==i[e]&&(a[e]={expected:o[e],actual:null==(r=i[e])?void 0:r.toString()})})),0===Object.keys(a).length?e.createElement(e.Fragment,null,n):e.createElement(e.Fragment,null,t)}var j=globalThis._reactFireDatabaseCachedQueries||[];function L(e){var r=j.findIndex((function(r){return r.isEqual(e)}));return r>-1?r:j.push(e)-1}globalThis._reactFireDatabaseCachedQueries||(globalThis._reactFireDatabaseCachedQueries=j);var I=function(e){function r(r,o){var i;return(i=e.call(this)||this)._timeoutWindow=void 0,i._value=void 0,i._hasValue=!1,i._timeoutHandler=void 0,i._firstEmission=void 0,i._error=void 0,i._innerObservable=void 0,i._warmupSubscription=void 0,i._innerSubscriber=void 0,i._resolveFirstEmission=void 0,i._timeoutWindow=o,i._firstEmission=new Promise((function(e){return i._resolveFirstEmission=e})),i._innerObservable=r.pipe(n.tap({next:function(e){i._next(e)},error:function(e){i._error=e,i._resolveFirstEmission()}}),n.catchError((function(){return t.empty()})),n.shareReplay(1)),i._warmupSubscription=i._innerObservable.subscribe(),i._timeoutHandler=setTimeout(i._reset.bind(w(i)),i._timeoutWindow),i}v(r,e);var o,i=r.prototype;return i._next=function(e){this._hasValue=!0,this._value=e,this._resolveFirstEmission()},i._reset=function(){var e=this;this._warmupSubscription&&this._warmupSubscription.unsubscribe(),this._hasValue=!1,this._value=void 0,this._error=void 0,this._firstEmission=new Promise((function(r){return e._resolveFirstEmission=r}))},i._subscribe=function(e){return this._timeoutHandler&&clearTimeout(this._timeoutHandler),this._innerSubscriber=this._innerObservable.subscribe(e),this._innerSubscriber},(o=[{key:"hasValue",get:function(){return this._hasValue||!!this._error}},{key:"value",get:function(){if(this._error)throw this._error;if(!this.hasValue)throw Error("Can only get value if SuspenseSubject has a value");return this._value}},{key:"firstEmission",get:function(){return this._firstEmission}},{key:"ourError",get:function(){return this._error}}])&&function(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,o),r}(t.Subject),q=globalThis._reactFirePreloadedObservables||new Map;function A(e,r){if(q.has(r))return q.get(r);var t=new I(e,3e4);return q.set(r,t),t}function T(r,t,n){var o,i,a;if(void 0===n&&(n={}),!r)throw new Error("cannot call useObservable without an observableId");var s=A(t,r),u=n.hasOwnProperty("initialData")||n.hasOwnProperty("startWithValue"),c=s.hasValue||u;if(!0===O(n.suspense)&&!c)throw s.firstEmission;var l={status:c?"success":"loading",hasEmitted:c,isComplete:!1,data:s.hasValue?s.value:null!=(o=null==(i=n)?void 0:i.initialData)?o:null==(a=n)?void 0:a.startWithValue,error:s.ourError,firstValuePromise:s.firstEmission},f=e.useReducer(function(e){return function(r,t){var n=d({},r,{hasEmitted:r.hasEmitted||e.hasValue,error:e.ourError,firstValuePromise:e.firstEmission});switch(e.hasValue&&(n.data=e.value),t){case"value":return n.status="success",n;case"error":return n.status="error",n;case"complete":return n.isComplete=!0,n;default:throw new Error('invalid action "'+t+'"')}}}(s),l),p=f[0],h=f[1];return e.useEffect((function(){var e=s.subscribe({next:function(){h("value")},error:function(e){throw h("error"),e},complete:function(){h("complete")}});return function(){return e.unsubscribe()}}),[s]),p}globalThis._reactFirePreloadedObservables||(globalThis._reactFirePreloadedObservables=q);var N=globalThis._reactFireFirestoreQueryCache||[];function V(e){var r=N.findIndex((function(r){return s.queryEqual(r,e)}));return r>-1?r:N.push(e)-1}function U(){return(U=h(_.mark((function e(r){var t;return _.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return e.abrupt("return",A(a.doc(t=e.sent),M(t)));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return"firestore:doc:"+e.firestore.app.name+":"+e.path}function G(e,r){var t=ge(),n=t.app.name,o=r(t,e);return T("remoteConfig:"+e+":"+r.name+":"+n,o)}globalThis._reactFireFirestoreQueryCache||(globalThis._reactFireFirestoreQueryCache=N);var W=["storage","storagePath","suspense","placeHolder"];function B(e,r){return T("storage:downloadUrl:"+e.toString(),l.getDownloadURL(e),r)}function H(r){return r=d({},r,{storage:me()}),e.createElement(Q,d({},r))}function Q(r){var t=r.storage,n=r.storagePath,o=r.suspense,i=r.placeHolder,a=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r.indexOf(t=i[n])>=0||(o[t]=e[t]);return o}(r,W),s={suspense:O(o)};if(!t)throw new Error("Storage was not passed to component INTERNALStorageImage. This should not be possible");var u=B(f.ref(t,n),s),c=u.data;return"success"===u.status?(a.alt||""===a.alt||console.warn('No alt prop provided for StorageImage with storagePath "'+n+'"',"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images"),e.createElement("img",d({src:c,alt:a.alt},a))):null!=i?i:e.createElement(e.Fragment,null,"''")}var J=e.createContext(void 0),z=e.createContext(void 0),K=e.createContext(void 0),Y=e.createContext(void 0),X=e.createContext(void 0),Z=e.createContext(void 0),$=e.createContext(void 0),ee=e.createContext(void 0),re=e.createContext(void 0);function te(r){return function(t){var n,o;if(!t.sdk)throw new Error("no sdk provided");var i=k().name;if((null==t||null==(n=t.sdk)||null==(o=n.app)?void 0:o.name)!==i)throw new Error("sdk was initialized with a different firebase app");return e.createElement(r.Provider,d({value:t.sdk},t))}}function ne(r){var t=e.useContext(r);if(!t)throw new Error("SDK not found. useSdk must be called from within a provider");return t}function oe(r,n,o,i){var a=k();if(e.useContext(n))throw new Error("Cannot initialize SDK "+r+" because it already exists in Context");var s=e.useMemo((function(){return o(a)}),[a]);return T("firebase-sdk:"+r+":"+a.name,t.from(s),i)}var ie=te(J),ae=te(z),se=te(K),ue=te(Y),ce=te(X),le=te(Z),fe=te(ee),pe=te($),he=te(re),de=function(){return ne(z)},ve=function(){return ne(Z)},me=function(){return ne($)},ge=function(){return ne(re)},ye=function(e){function r(t,n,o){var i;return(i=e.call(this,n)||this).code=void 0,i.customData=void 0,i.name="ReactFireError",i.code=t,i.customData=o,Object.setPrototypeOf(w(i),r.prototype),i}return v(r,e),r}(x(Error));function be(e,r){if("idField"===r||"initialData"===r||"suspense"===r)return e?e[r]:void 0;throw new Error('Field "'+r+'" is not a valid key in ReactFireOptions')}function xe(e){return be(e,"idField")}exports.AnalyticsProvider=se,exports.AppCheckProvider=ie,exports.AuthCheck=function(r){var t=r.fallback,n=r.children,o=r.requiredClaims,i=D().data;return O()||console.warn("AuthCheck is deprecated and only works when ReactFire is in experimental Suspense Mode. Use useSigninCheck or set suspense={true} in FirebaseAppProvider if you want to use this component."),i?o?e.createElement(R,{user:i,fallback:t,requiredClaims:o},n):e.createElement(e.Fragment,null,n):e.createElement(e.Fragment,null,t)},exports.AuthProvider=ae,exports.ClaimsCheck=R,exports.DatabaseProvider=ue,exports.FirebaseAppProvider=function(r){var t=r.firebaseConfig,n=r.appName,i=r.suspense,a=e.useMemo((function(){if(r.firebaseApp)return r.firebaseApp;var i,a,s=o.getApps().find((function(e){return e.name===(n||"[DEFAULT]")}));if(s){if(t&&((i=s.options)===(a=t)||[].concat(Object.keys(i),Object.keys(a)).every((function(e){return i[e]===a[e]}))))return s;throw new Error("Does not match the options already provided to the "+(n||"default")+" firebase app instance, give this new instance a different appName.")}if(!t)throw new Error("No firebaseConfig provided");return o.registerVersion("react",e.version||"unknown"),o.registerVersion("reactfire","4.2.0"),o.initializeApp(t,n)}),[r.firebaseApp,t,n]);return e.createElement(C.Provider,{value:a},e.createElement(F.Provider,d({value:null!=i&&i},r)))},exports.FirestoreProvider=ce,exports.FunctionsProvider=le,exports.PerformanceProvider=fe,exports.ReactFireError=ye,exports.RemoteConfigProvider=he,exports.StorageImage=function(r){return e.createElement(r.storage?Q:H,d({},r))},exports.StorageProvider=pe,exports.SuspenseWithPerf=function(r){var t,n=r.children,o=r.traceId,i=r.fallback,a=(null==(t=performance)||null==t.getEntriesByName?void 0:t.getEntriesByName(o,"measure"))||[],s="_"+o+"Start["+a.length+"]",u="_"+o+"End["+a.length+"]";return e.createElement(e.Suspense,{fallback:e.createElement((function(){return e.useLayoutEffect((function(){var e;return null==(e=performance)||null==e.mark||e.mark(s),function(){var e,r;null==(e=performance)||null==e.mark||e.mark(u),null==(r=performance)||null==r.measure||r.measure(o,s,u)}}),[]),e.createElement(e.Fragment,null,i)}),null)},n)},exports.checkIdField=xe,exports.checkOptions=be,exports.checkinitialData=function(e){return be(e,"initialData")},exports.preloadFirestoreDoc=function(e){return U.apply(this,arguments)},exports.preloadObservable=A,exports.preloadUser=function(e){return P.apply(this,arguments)},exports.useAnalytics=function(){return ne(K)},exports.useAppCheck=function(){return ne(J)},exports.useAuth=de,exports.useCallableFunctionResponse=function(e,r){var t=ve();return T("functions:callableResponse:"+e+":"+JSON.stringify(null==r?void 0:r.data)+":"+JSON.stringify(null==r?void 0:r.httpsCallableOptions),u.httpsCallable(t,e,null==r?void 0:r.httpsCallableOptions)(null==r?void 0:r.data),r)},exports.useDatabase=function(){return ne(Y)},exports.useDatabaseList=function(e,r){return T("database:list:"+L(e),i.list(e),r)},exports.useDatabaseListData=function(e,r){var t=r?xe(r):"NO_ID_FIELD";return T("database:listVal:"+L(e)+":idField="+t,i.listVal(e,{keyField:t}),r)},exports.useDatabaseObject=function(e,r){return T("database:object:"+e.toString(),i.object(e),r)},exports.useDatabaseObjectData=function(e,r){var t=r?xe(r):"NO_ID_FIELD";return T("database:objectVal:"+e.toString()+":idField="+t,i.objectVal(e,{keyField:t}),r)},exports.useFirebaseApp=k,exports.useFirestore=function(){return ne(X)},exports.useFirestoreCollection=function(e,r){return T("firestore:collection:"+V(e),a.fromRef(e),r)},exports.useFirestoreCollectionData=function(e,r){var t=r?xe(r):"NO_ID_FIELD";return T("firestore:collectionData:"+V(e)+":idField="+t,a.collectionData(e,{idField:t}),r)},exports.useFirestoreDoc=function(e,r){return T(M(e),a.doc(e),r)},exports.useFirestoreDocData=function(e,r){var t=r?xe(r):"NO_ID_FIELD";return T("firestore:docData:"+e.firestore.app.name+":"+e.path+":idField="+t,a.docData(e,{idField:t}),r)},exports.useFirestoreDocDataOnce=function(e,r){var t=r?xe(r):"NO_ID_FIELD";return T("firestore:docDataOnce:"+e.firestore.app.name+":"+e.path+":idField="+t,a.docData(e,{idField:t}).pipe(n.first()),r)},exports.useFirestoreDocOnce=function(e,r){return T("firestore:docOnce:"+e.firestore.app.name+":"+e.path,a.doc(e).pipe(n.first()),r)},exports.useFunctions=ve,exports.useIdTokenResult=S,exports.useInitAnalytics=function(e,r){return oe("analytics",K,e,r)},exports.useInitAppCheck=function(e,r){return oe("appcheck",J,e,r)},exports.useInitAuth=function(e,r){return oe("auth",z,e,r)},exports.useInitDatabase=function(e,r){return oe("database",Y,e,r)},exports.useInitFirestore=function(e,r){return oe("firestore",X,e,r)},exports.useInitFunctions=function(e,r){return oe("functions",Z,e,r)},exports.useInitPerformance=function(e,r){return oe("performance",ee,e,r)},exports.useInitRemoteConfig=function(e,r){return oe("remoteconfig",re,e,r)},exports.useInitStorage=function(e,r){return oe("storage",$,e,r)},exports.useIsSuspenseEnabled=function(){var r=e.useContext(F);return null!=r&&r},exports.useObservable=T,exports.usePerformance=function(){return ne(ee)},exports.useRemoteConfig=ge,exports.useRemoteConfigAll=function(e){return G(e,c.getAll)},exports.useRemoteConfigBoolean=function(e){return G(e,c.getBoolean)},exports.useRemoteConfigNumber=function(e){return G(e,c.getNumber)},exports.useRemoteConfigString=function(e){return G(e,c.getString)},exports.useRemoteConfigValue=function(e){return G(e,c.getValue)},exports.useSigninCheck=function(e){if(null!=e&&e.hasOwnProperty("requiredClaims")&&null!=e&&e.hasOwnProperty("validateCustomClaims"))throw new Error('Cannot have both "requiredClaims" and "validateCustomClaims". Use one or the other.');var o=de(),i="auth:signInCheck:"+o.name+"::forceRefresh:"+!(null==e||!e.forceRefresh);return null!=e&&e.forceRefresh&&(i=i+":forceRefresh:"+e.forceRefresh),null!=e&&e.hasOwnProperty("requiredClaims")?i=i+":requiredClaims:"+JSON.stringify(e.requiredClaims):null!=e&&e.hasOwnProperty("validateCustomClaims")&&(i=i+":validateCustomClaims:"+JSON.stringify(e.validateCustomClaims)),T(i,r.user(o).pipe(n.switchMap((function(r){var o;return r?e&&(e.hasOwnProperty("requiredClaims")||e.hasOwnProperty("validateCustomClaims"))?t.from(r.getIdTokenResult(null!=(o=null==e?void 0:e.forceRefresh)&&o)).pipe(n.map((function(t){var n,o;e.hasOwnProperty("requiredClaims")?(o=e.requiredClaims,n=function(e){var r={};return Object.keys(o).forEach((function(t){o[t]!==e[t]&&(r[t]=[new ye("auth/missing-claim",'Expected "'+o[t]+'", but user has "'+e[t]+'" instead')])})),{hasRequiredClaims:0===Object.keys(r).length,errors:r}}):n=e.validateCustomClaims;var i=n(t.claims);return{signedIn:!0,hasRequiredClaims:i.hasRequiredClaims,errors:i.errors,user:r}}))):t.of({signedIn:!0,hasRequiredClaims:!0,errors:{},user:r}):t.of({signedIn:!1,hasRequiredClaims:!1,errors:{},user:null})}))))},exports.useStorage=me,exports.useStorageDownloadURL=B,exports.useStorageTask=function(e,r,t){return T("storage:task:"+r.toString(),l.fromTask(e),t)},exports.useSuspenseEnabledFromConfigAndContext=O,exports.useUser=D,exports.version="4.2.0";
//# sourceMappingURL=reactfire.cjs.production.min.js.map
